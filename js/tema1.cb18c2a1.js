(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tema1"],{"0057":function(a,s,e){a.exports=e.p+"img/23.921460d1.png"},"02c8":function(a,s,e){"use strict";e.r(s);var t=function(){var a=this,s=a._self._c;return s("div",{staticClass:"curso-main-container pb-3"},[s("BannerInterno"),s("div",{staticClass:"container tarjeta tarjeta--blanca p-4 p-md-5 mb-5"},[a._m(0),a._m(1),s("Separador"),a._m(2),a._m(3),a._m(4),s("Separador"),a._m(5),a._m(6),a._m(7),a._m(8),s("div",{staticClass:"row align-items-center mb-4",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7"},[s("AcordionA",{staticClass:"acordion-personalizado-1",attrs:{tipo:"a","clase-tarjeta":"acordion-personalizado-1__tarjeta"}},[s("div",{staticClass:"ms-md-5",attrs:{titulo:"1. Desarrollo del archivo principal del #[em back-end]"}},[s("p",{staticClass:"ps-md-2 mb-4 pt-md-0 pt-2"},[a._v("El siguiente paso es iniciar con el desarrollo del archivo principal del "),s("em",[a._v("back-end")]),a._v(", que se llama index.js.")])]),s("div",{staticClass:"ms-md-5",attrs:{titulo:"2. Código del archivo index.js"}},[s("p",{staticClass:"ps-md-2 mb-4 pt-md-0 pt-2"},[a._v("Se explica el código del archivo index.js para el proyecto. A medida que avance este componente, se explicará cada línea de código que se requiera ejecutar.")])]),s("div",{staticClass:"ms-md-5",attrs:{titulo:"3. Requerimiento de Express"}},[s("p",{staticClass:"ps-md-2 mb-4 pt-md-0 pt-2"},[a._v("Se inicia con el requerimiento de Express y se almacena en una constante en JavaScript llamada express. De esta forma, se tendrá acceso a todo el funcionamiento del servidor con la línea de código: "),s("b",[a._v("const app = express();.")])])]),s("div",{staticClass:"ms-md-5",attrs:{titulo:"4. Configuración del puerto"}},[s("p",{staticClass:"ps-md-2 mb-4 pt-md-0 pt-2"},[a._v("Una vez creada la constante app, se pasa a la configuración del puerto por donde va a escuchar y recibir el servidor todo tipo de solicitudes por parte del cliente, según se muestra en la siguiente línea: "),s("b",[a._v("`app.set('port', process.env.PORT)")])])])])],1),a._m(9)]),s("div",{staticClass:"row align-items-center mb-5",attrs:{"data-aos":"fade-up"}},[a._m(10),s("div",{staticClass:"col-lg-7"},[s("AcordionA",{staticClass:"acordion-personalizado-1",attrs:{tipo:"a","clase-tarjeta":"acordion-personalizado-1__tarjeta"}},[s("div",{staticClass:"ms-md-5",attrs:{titulo:"5. Uso de set "}},[s("p",{staticClass:"ps-md-2 mb-4 pt-md-0 pt-2"},[a._v("Set es para crear una variable que va a ser accedida desde cualquier parte de la aplicación. La estructura es la siguiente: (nombre var, valor). "),s("b",[a._v("process")]),a._v(" es porque cuando se despliegue la app no se va a tener la opción de definir el puerto, sino que el mismo servicio de la nube ayudará a definirlo, en caso de que el puerto 3000 esté ocupado.")])]),s("div",{staticClass:"ms-md-5",attrs:{titulo:"6. Instalación de Nodemon"}},[s("p",{staticClass:"ps-md-2 mb-4 pt-md-0 pt-2"},[a._v("Con el fin de revisar los cambios en el servidor de manera automática, se tiene planeada la instalación de algunas herramientas que harán más fácil el desarrollo sobre Node.js, por lo que se instala Nodemon como una utilidad que monitorea de manera constante los cambios en el código fuente que se está desarrollando y de manera automática reinicia el servidor. La línea de código utilizada en la terminal de VS Code es: "),s("b",[a._v("npm install nodemon -D.")])])]),s("div",{staticClass:"ms-md-5",attrs:{titulo:"7. Configuración de Nodemon"}},[s("p",{staticClass:"ps-md-2 mb-4 pt-md-0 pt-2"},[a._v("Esto significa que Nodemon será instalado como una dependencia de desarrollo y no como dependencia general del proyecto. Se configura el archivo "),s("b",[a._v("package.json")]),a._v(" de acuerdo a las instrucciones.")])]),s("div",{staticClass:"ms-md-5",attrs:{titulo:"8. Iniciar el servidor"}},[s("p",{staticClass:"ps-md-2 mb-4 pt-md-0 pt-2"},[a._v("Se inicia a ejecutar el servidor con la siguiente línea de comando: "),s("b",[a._v("npm run dev")]),a._v(".")])])])],1)]),a._m(11),a._m(12),a._m(13),s("Separador"),a._m(14),a._m(15),a._m(16),a._m(17),a._m(18),s("Separador"),a._m(19),a._m(20),a._m(21),a._m(22),a._m(23),s("Separador"),a._m(24),a._m(25),a._m(26),a._m(27),a._m(28),a._m(29),a._m(30),a._m(31),a._m(32),s("p",{staticClass:"mb-5 pt-3",attrs:{"data-aos":"fade-up"}},[a._v("Se requiere Mongoose y se almacena en una constante denominada de la misma forma, que se utilizará para definir los esquemas de datos. Para esto, se empieza a modelar con la información, como nombre y cargo, entre otros. En ese sentido, Mongoose le indica a MongoDB cómo va a lucir la estructura de empleados.")]),s("Separador"),a._m(33),a._m(34),a._m(35),a._m(36),s("div",{staticClass:"row justify-content-center mb-5"},[s("div",{staticClass:"col-lg-10"},[s("div",{staticClass:"fondo-personalizado-4"},[s("img",{staticClass:"imgf-1",attrs:{src:e("312a")}}),s("img",{staticClass:"imgf-2",attrs:{src:e("6f81")}}),s("img",{staticClass:"imgf-3",attrs:{src:e("60c3")}}),s("div",{staticClass:"fondo-personalizado-4__contenido p-4 pb-5",attrs:{"data-aos":"fade-up"}},[s("PasosB",{staticClass:"pasos-personalizado-1"},[s("div",{staticClass:"row mb-5 pt-3",attrs:{titulo:""}},[s("div",{staticClass:"col-md-6 mb-4 mb-md-0 ps-lg-5"},[s("h3",{staticClass:"mb-4 p-1 c-color-sistema-r bg-white d-inline-block"},[a._v("Explicación del código")]),s("p",{staticClass:"mb-0 text-white"},[a._v("Se inicia explicando de manera sucinta el código presentado anteriormente. En primera instancia, se requiere el modelo realizado denominado "),s("b",[a._v("empleado.js")]),a._v(", por lo cual se almacena en una constante "),s("b",[a._v("Empleado")]),a._v(".")])]),s("div",{staticClass:"col-md-6"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"190px"},attrs:{src:e("107b")}})])])]),s("div",{staticClass:"row mb-5 pt-3",attrs:{titulo:""}},[s("div",{staticClass:"col-md-6 mb-4 mb-md-0 ps-lg-5"},[s("h3",{staticClass:"mb-4 p-1 c-color-sistema-r bg-white d-inline-block"},[a._v("Uso de funciones JavaScript")]),s("p",{staticClass:"mb-0 text-white"},[a._v("En cada uno de los métodos se utilizan funciones nativas y nuevas de JavaScript. Anteriormente, se utilizaban funciones de tipo "),s("b",[a._v("callback")]),a._v(" que existían como parámetros de los métodos, después aparecieron las promesas con la función "),s("b",[a._v("then")]),a._v(", pero ahora existen funciones que están dedicadas a realizar de manera más eficiente el procesamiento de los datos y mejorar los tiempos de respuesta como lo son "),s("b",[a._v("async")]),a._v(" y "),s("b",[a._v("await")]),a._v(" que hacen parte de la última versión de JavaScript.")])]),s("div",{staticClass:"col-md-6"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"190px"},attrs:{src:e("1c8a")}})])])]),s("div",{staticClass:"row mb-5 pt-3",attrs:{titulo:""}},[s("div",{staticClass:"col-md-6 mb-4 mb-md-0 ps-lg-5"},[s("h3",{staticClass:"mb-4 p-1 c-color-sistema-r bg-white d-inline-block"},[a._v("Método obtener empleados")]),s("p",{staticClass:"mb-0 text-white"},[a._v("Para el método de obtener empleados se utiliza la función "),s("b",[a._v("async")]),a._v(", la cual entrega en formato JSON todo lo que encuentre de empleados. Se utiliza la función "),s("b",[a._v("await")]),a._v(", porque se espera que tarde un poco en buscar. Se utiliza uno de los métodos intrínsecos del modelo "),s("b",[a._v("Empleado")]),a._v(", que en este caso es "),s("b",[a._v("find()")]),a._v(".")])]),s("div",{staticClass:"col-md-6"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"190px"},attrs:{src:e("eef0")}})])])]),s("div",{staticClass:"row mb-5 pt-3",attrs:{titulo:""}},[s("div",{staticClass:"col-md-6 mb-4 mb-md-0 ps-lg-5"},[s("h3",{staticClass:"mb-4 p-1 c-color-sistema-r bg-white d-inline-block"},[a._v("Método crear empleado")]),s("p",{staticClass:"mb-0 text-white"},[a._v("El método de crear empleado tiene una naturaleza similar al anterior. En este método se crea una nueva instancia de empleado "),s("b",[a._v("new Empleado")]),a._v(". Luego, se guarda ese nuevo registro con "),s("b",[a._v("save()")]),a._v(". Es importante notar que hasta el momento no se ha creado la base de datos en MongoDB, pero al almacenar un registro, se crea la base de datos. ")])]),s("div",{staticClass:"col-md-6"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"190px"},attrs:{src:e("f976")}})])])]),s("div",{staticClass:"row mb-5 pt-3",attrs:{titulo:""}},[s("div",{staticClass:"col-md-6 mb-4 mb-md-0 ps-lg-5"},[s("h3",{staticClass:"mb-4 p-1 c-color-sistema-r bg-white d-inline-block"},[a._v("Método editar empleado")]),s("p",{staticClass:"mb-0 text-white"},[a._v("Para el método de editar empleado se presenta una sintaxis interesante. Primero, se escribe de otra forma para capturar el id del usuario que se quiere actualizar { id }. Además, se crea una constante "),s("b",[a._v("empleadoEdit")]),a._v(" para pasarle los datos traídos del cliente y finalmente se utiliza "),s("b",[a._v("await")]),a._v(" para esperar en la acción de encontrar por id y actualizar a través de la función "),s("b",[a._v("set")]),a._v(", que se utilizará para modificar los datos en última instancia.")])]),s("div",{staticClass:"col-md-6"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"190px"},attrs:{src:e("e06f")}})])])]),s("div",{staticClass:"row mb-5 pt-3",attrs:{titulo:""}},[s("div",{staticClass:"col-md-6 mb-4 mb-md-0 ps-lg-5"},[s("h3",{staticClass:"mb-4 p-1 c-color-sistema-r bg-white d-inline-block"},[a._v("Exportación del módulo")]),s("p",{staticClass:"mb-0 text-white"},[a._v("Finalmente, al crear un módulo, se exporta para que sea utilizado en cualquier parte de la aplicación.")])]),s("div",{staticClass:"col-md-6"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"190px"},attrs:{src:e("0e0d")}})])])])])],1)])])]),a._m(37),a._m(38),a._m(39),s("Separador"),a._m(40),a._m(41),a._m(42),a._m(43),a._m(44),a._m(45),a._m(46),a._m(47),a._m(48),a._m(49),a._m(50)],1)],1)},o=[function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-principal color-acento-contenido",attrs:{"data-aos":"flip-up"}},[s("div",{staticClass:"titulo-principal__numero"},[s("span",[a._v("1")])]),s("h1",[a._v("Construcción del "),s("em",[a._v("back-end")]),a._v(" de la aplicación web")])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row align-items-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"fondo-personalizado-2 py-5 px-4 borde-20"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-md-auto"},[s("div",{staticClass:"d-flex mb-4 mb-md-0 justify-content-center"},[s("div",{staticClass:"burbuja-1 fondo-color-acento-contenido p-2"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"81px"},attrs:{src:e("3fcd")}})])])])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0 text-white"},[a._v("Se inicia con una estructura de proyecto MEAN (Mongo, Express, Angular y Node.js) para el proyecto que abarca tanto el "),s("em",[a._v("front-end")]),a._v(" como el "),s("em",[a._v("back-end")]),a._v(". Para la instalación de las primeras herramientas como Node.js y Express.")])])])])]),s("div",{staticClass:"col-lg-3 order-first order-lg-last"},[s("figure",{staticClass:"mb-4 mb-lg-0"},[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"295px"},attrs:{src:e("04c2")}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-segundo color-acento-contenido",attrs:{id:"t_1_1","data-aos":"flip-up"}},[s("h2",[a._v("1.1 Instalación y configuración de herramientas de Node.js")])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("Se utiliza Visual Studio Code (VS Code) con la siguiente estructura de directorios para el "),s("em",[a._v("back-end")]),a._v(", detallada a continuación:")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"fondo-personalizado-1 f2 top-1"},[s("div",{staticClass:"fondo-personalizado-1__contenido pb-4"},[s("div",{staticClass:"row justify-content-center mb-5 pt-1 pb-3",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"}),s("span",{staticClass:"c-color-acento-contenido fw-bold"},[a._v("GESTION-EMPLEADOS")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("•    backend")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("         o controllers")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("         o models")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("         o routes")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("         o database.js")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("         o index.js")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("•    node_modules")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("•    package-lock.json")]),s("br"),s("span",{staticClass:"fw-bold"},[a._v("•    package.json")])])])])]),s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-8 mb-4 mb-lg-0"},[s("p",{staticClass:"mb-0"},[a._v("Como se presentó anteriormente, se crea la carpeta "),s("b",[a._v("GESTION-EMPLEADOS")]),a._v(", que será la principal o raíz del proyecto. Dentro de esta, se crea la carpeta "),s("b",[a._v("back-end")]),a._v(", en la cual se crean otros directorios y archivos. De tal forma, esta será la estructura que apoyará el desarrollo de la base de la aplicación. Una vez creadas las carpetas y archivos, como "),s("b",[a._v("controllers, models, routes, database.js e index.js")]),a._v(", se abre la terminal del VS Code y se digita el siguiente comando para crear un proyecto "),s("b",[a._v("Node.js: npm init -yes")])])]),s("div",{staticClass:"col-lg-4"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"400px"},attrs:{src:e("2c90")}})])])]),s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",{staticClass:"c-color-acento-contenido fw-bold"},[a._v("PROBLEMS | OUTPUT | TERMINAL | DEBUG CONSOLE")]),s("br"),s("br"),s("span",[a._v("Windows PowerShell")]),s("br"),s("span",[a._v("Copyright (C) Microsoft Corporation. Todos los derechos reservados.")]),s("br"),s("span",[a._v("Prueba la nueva tecnología PowerShell multiplataforma https://aka.ms/pscore6")]),s("br"),s("span",[a._v("PS D:\\gestion-empleados> npm init --yes")])])])])])]),s("p",{staticClass:"mb-0",attrs:{"data-aos":"fade-up"}},[a._v("Una vez creado el proyecto, se requieren todas las bondades del "),s("i",[a._v("framework")]),a._v(" de Node.js, para lo cual es necesario Express. Express generará una serie de componentes que ayudarán mucho al desarrollo de esta aplicación. Por lo tanto, se instala Express con la siguiente línea de comandos desde la terminal del VS Code: "),s("b",[a._v("npm install express")]),a._v(".")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-segundo color-acento-contenido",attrs:{id:"t_1_2","data-aos":"flip-up"}},[s("h2",[a._v("1.2 Desarrollo del index.js")])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-4",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("El siguiente paso es iniciar con el desarrollo del archivo principal del back-end, que se llama index.js como se presenta a continuación:")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("const express = require('express')")]),s("br"),s("span",[a._v("const morgan = require('morgan');")]),s("br"),s("span",[a._v("const cors = require('cors');")]),s("br"),s("span",[a._v("const app = express(); // la constante app tendrá ahora todo el funcionamiento del servidor")]),s("br"),s("span",[a._v("const { mongoose } = require('./database'); // no se quiere todo el archivo sino la conexión")]),s("span",[a._v("/** * Se crea una REST API, es la manera de decirle al servidor que reciba y envíe datos */")]),s("br"),s("br"),s("span",[a._v("// Configuraciones")]),s("br"),s("span",[a._v("app.set('port', process.env.PORT || 3000);")]),s("br"),s("span",[a._v("app.use(morgan('dev'));")]),s("br"),s("span",[a._v("app.use(express.json()); // método que ayuda a convertir el código para que el servidor pueda entender lo que viene del cliente.")]),s("br"),s("span",[a._v("app.use(cors({origin: 'http://localhost:4200'})); // método para comunicar con el cliente")]),s("br"),s("br"),s("span",[a._v("// rutas de nuestro servidor")]),s("br"),s("span",[a._v("app.use('/api/empleados',require('./routes/empleado.routes'));")]),s("br"),s("br"),s("span",[a._v("// Iniciando el servidor")]),s("br"),s("span",[a._v("app.listen(app.get('port'), () => { // esta es una mejor manera de configurar el puerto")]),s("br"),s("span",[a._v("    console.log('server activo en el puerto', app.get('port'));")]),s("br"),s("span",[a._v("});")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-4",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("A continuación, se presentan los siguientes pasos para el desarrollo del index.js:")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"col-lg-5 order-first order-lg-last"},[s("figure",{staticClass:"mb-4 mb-lg-0"},[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"505px"},attrs:{src:e("dac1")}})])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"col-lg-5"},[s("figure",{staticClass:"mb-4 mb-lg-0"},[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"505px"},attrs:{src:e("27c8")}})])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("Estructura package.json: ")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("{")]),s("br"),s("span",[a._v('    "name": "gestion-empleados",')]),s("br"),s("span",[a._v('    "version": "1.0.0",')]),s("br"),s("span",[a._v('    "description": "",')]),s("br"),s("span",[a._v('    "main": "index.js",')]),s("br"),s("span",[a._v('    "scripts": {')]),s("br"),s("span",[a._v('      "dev": "nodemon BackEnd/index.js"')]),s("br"),s("span",[a._v("    },")]),s("br"),s("span",[a._v('    "keywords": [],')]),s("br"),s("span",[a._v('    "author": "",')]),s("br"),s("span",[a._v('    "license": "ISC",')]),s("br"),s("span",[a._v('    "dependencies": {')]),s("br"),s("span",[a._v('      "cors": "^2.8.5",')]),s("br"),s("span",[a._v('      "express": "^4.17.1",')]),s("br"),s("span",[a._v('      "mongoose": "^5.12.14",')]),s("br"),s("span",[a._v('      "morgan": "^1.10.0"')]),s("br"),s("span",[a._v("    },")]),s("br"),s("span",[a._v('    "devDependencies": {')]),s("br"),s("span",[a._v('      "nodemon": "^2.0.7"')]),s("br"),s("span",[a._v("    }")]),s("br"),s("span",[a._v("}")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row align-items-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7"},[s("p",{staticClass:"mb-4"},[a._v("Ahora, se construyen las "),s("em",[a._v("Middleware")]),a._v(" dentro del archivo index.js, encargadas de procesar los datos, es decir, cuando se solicitan o envían al servidor. El servidor debe entender los datos que le llegan del cliente (AngularJS toma los datos del cliente y los envía en formato JSON) y es por eso que se necesita algún tipo de conversión. Por lo tanto, se requiere del uso del formato JSON ejecutando la siguiente instrucción: app.use(express.json());")]),s("p",{staticClass:"mb-0"},[a._v("Para registrar la transacción de mensajes por consola, se puede utilizar una herramienta útil llamada Morgan, que ayuda a verificar en consola lo que el usuario está solicitando. Esta herramienta es opcional para el desarrollo de la aplicación, no obstante, se deja la línea de comando para su instalación y utilización: "),s("b",[a._v("npm install morgan. app.use(morgan(‘dev’));")])])]),s("div",{staticClass:"col-lg-5"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"505px"},attrs:{src:e("7f43")}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-segundo color-acento-contenido",attrs:{id:"t_1_3","data-aos":"flip-up"}},[s("h2",[a._v("1.3 Configuración e instalación de la base de datos MongoDB")])])},function(){var a=this,s=a._self._c;return s("p",{staticClass:"mb-5",attrs:{"data-aos":"fade-up"}},[a._v("A continuación, se realizará la conexión de la aplicación del servidor a la base de datos, por lo que se inicia configurando e instalando los recursos necesarios antes de desarrollar. En ese sentido, se instala "),s("b",[a._v("MongoDB")]),a._v(" de manera persistente en el equipo de desarrollo. La siguiente figura representa de manera general el diagrama entidad-relación de una base de datos.")])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-sexto color-acento-contenido",attrs:{"data-aos":"fade-up"}},[s("p",{staticClass:"mb-0"},[s("b",[a._v("Figura 1.")]),a._v(" Diagrama entidad-relación")])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"fondo-personalizado-burbuja fondo-color-sistema-j mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"fig-burbuja left",staticStyle:{top:"50px"}}),s("div",{staticClass:"fig-burbuja",staticStyle:{top:"-95px",right:"50px"}}),s("div",{staticClass:"fig-burbuja",staticStyle:{bottom:"-115px",right:"50px"}}),s("div",{staticClass:"fondo-personalizado-burbuja__contenido p-4 py-lg-5"},[s("figure",{staticClass:"my-lg-4"},[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"820px"},attrs:{src:e("5ab0"),alt:"Diagrama de entidad-relación que muestra varias tablas de bases de datos conectadas entre sí mediante relaciones. Cada tabla contiene atributos y una clave primaria, indicada por un ícono de llave. Las flechas indican las relaciones entre las tablas, reflejando cómo los datos están interconectados a través de claves foráneas y otras asociaciones."}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"fondo-personalizado-1 f3 mb-4"},[s("div",{staticClass:"fondo-personalizado-1__contenido pt-3 pb-4"},[s("div",{staticClass:"row align-items-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7"},[s("p",{staticClass:"mb-0"},[a._v("De manera opcional, se puede instalar la extensión de MongoDB dentro del entorno de VS Code, permitiendo una mayor integralidad en el desarrollo. Estas herramientas facilitan la celeridad en el proceso de construcción de sistemas de "),s("em",[a._v("software")]),a._v(". Por lo tanto, en el material de apoyo se dejará información para acceder a la guía de instalación de esta extensión, denominada extensión VS Code y MongoDB. ")])]),s("div",{staticClass:"col-lg-5"},[s("div",{staticClass:"bloque-codigo-personalizado",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("localhost:27017 connected")]),s("br"),s("span",[a._v("• admin")]),s("br"),s("span",[a._v("• config")]),s("br"),s("span",[a._v("• empleados")]),s("br"),s("span",[a._v("• local")])])])])])]),s("p",{staticClass:"mb-0",attrs:{"data-aos":"fade-up"}},[a._v("Posteriormente, para realizar la conexión a la base de datos y definir la estructura de los datos de la aplicación a desarrollar, conocida técnicamente como esquemas, se instala la herramienta "),s("em",[a._v("Mongoose")]),a._v(" con la siguiente línea de comando desde la terminal de VS Code: "),s("b",[a._v("npm install mongoose")])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-segundo color-acento-contenido",attrs:{id:"t_1_4","data-aos":"flip-up"}},[s("h2",[a._v("1.4 Configuración de database.js")])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-4",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7"},[s("p",{staticClass:"mb-4"},[a._v("Con todas las herramientas necesarias para la conexión de la aplicación a la base de datos, se empieza a desarrollar y configurar el archivo database.js")]),s("p",{staticClass:"mb-0"},[a._v("Con respecto al código del archivo database.js, se indica que es necesario que el módulo se conecte a MongoDB, por eso se utiliza "),s("em",[a._v("Mongoose")]),a._v(". Al llamarse el módulo, se almacena en una constante. Además, se define la dirección de la conexión de la base de datos en una constante denominada "),s("em",[a._v("URI")]),a._v(", y se utiliza una promesa para obtener la información de la base de datos y corroborar si hay conexión o no.")])]),s("div",{staticClass:"col-lg-5"},[s("div",{staticClass:"bloque-codigo-personalizado",attrs:{"data-aos":"flip-up"}},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4 ps-md-5"},[s("code",{staticClass:"text-wrap"}),s("span",[a._v("const mongoose = require('mongoose');")]),s("br"),s("span",[a._v("const URI = 'mongodb://localhost/empleados';")]),s("br"),s("span",[a._v("mongoose.connect(URI)")]),s("br"),s("span",[a._v("   .then(db => console.log('DB is connected'))")]),s("br"),s("span",[a._v("   .catch(err => console.error(err));")]),s("br"),s("span",[a._v("module.exports = mongoose;")])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"borde-16 overflow-hidden"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3 pe-lg-0"},[s("div",{staticClass:"fondo-color-sistema-k p-2 h-100 d-flex align-items-center"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"127px"},attrs:{src:e("10b3")}})])])]),s("div",{staticClass:"col-lg-9 ps-lg-0"},[s("div",{staticClass:"fondo-color-primario p-4"},[s("p",{staticClass:"text-white mb-0",staticStyle:{"font-size":"15px"}},[a._v("Por ser un módulo que se utiliza en toda la aplicación, se exporta. De esta forma, la constante "),s("em",[a._v("Mongoose")]),a._v(" devolverá la conexión. De manera adicional, en el archivo index.js se invoca o llama el archivo database.js, especificando que lo que se requiere es la conexión. Solo resta probar si la conexión está activa, por lo que se inicia el servidor con la línea de comando "),s("b",[a._v("npm run dev")]),a._v(", como se indicó anteriormente.")])])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("A continuación, se presenta el resultado de la terminal del VS Code:")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("[nodemon] restarting due to changes...")]),s("br"),s("span",[a._v("[nodemon] starting `node backend/index.js`")]),s("br"),s("span",[a._v("(node:78784) DeprecationWarning: current URL string parser is deprecated, and will be removed in a future version. To use the new parser, pass option { useNewUrlParser: true } to MongoClient.connect.")]),s("br"),s("span",[a._v("(Use `node --trace-deprecation ...` to show where the warning was created)")]),s("br"),s("span",[a._v("(node:78784) [MONGODB DRIVER] Warning: Current Server Discovery and Monitoring engine is deprecated, and will be removed in a future version. To use the new Server Discover and Monitoring engine, pass option { useUnifiedTopology: true } to the MongoClient constructor.")]),s("br"),s("span",[a._v("server activo en el puerto 3000")]),s("br"),s("span",[a._v("DB is connected")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-segundo color-acento-contenido",attrs:{id:"t_1_5","data-aos":"flip-up"}},[s("h2",[a._v("1.5 Configuración de las rutas del proyecto con Node.js")])])},function(){var a=this,s=a._self._c;return s("p",{staticClass:"mb-5",attrs:{"data-aos":"fade-up"}},[a._v("El siguiente paso es configurar las rutas o URL por donde se van a enviar o recibir los datos, por lo que se crea un archivo llamado empleado.route.js dentro de la carpeta "),s("em",[a._v("routes")]),a._v(". En este primer apartado, se desea revisar el funcionamiento de las rutas, por lo que, a manera de prueba, se presenta el siguiente código:")])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("/**")]),s("br"),s("span",[a._v("* Vamos a crear rutas del servidor")]),s("br"),s("span",[a._v("* creamos un módulo por eso utilizamos express")]),s("br"),s("span",[a._v("* vamos a utilizar como nuestra rest api para")]),s("br"),s("span",[a._v("* enviar y recibir datos en formato json")]),s("br"),s("span",[a._v("*/")]),s("br"),s("br"),s("span",[a._v("const express = require('express');")]),s("br"),s("span",[a._v("const router = express.Router();")]),s("br"),s("span",[a._v("/* generamos un ejemplo cuando le soliciten algo al span servidor por el método GET */")]),s("br"),s("span",[a._v("router.get('/', (req, res) => {")]),s("br"),s("span",[a._v("   res.json({")]),s("br"),s("span",[a._v("     status: 'API REST funcionando'")]),s("br"),s("span",[a._v("   });")]),s("br"),s("span",[a._v("})")]),s("br"),s("br"),s("span",[a._v("module.exports = router;")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row align-items-center mb-5 pt-4 pb-4",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7 mb-4 mb-lg-0"},[s("div",{staticClass:"fondo-color-sistema-l p-4 p-lg-5 borde-17"},[s("p",{staticClass:"mb-4"},[a._v("De manera adicional, se puede observar el archivo index.js, en el cual se establece la ruta por donde se van a recibir o enviar los datos desde el servidor. Para este caso de estudio, será "),s("a",{staticClass:"link-personalizado-1",attrs:{target:"_blank",href:"http://localhost:3000/api/empleados"}},[a._v("http://localhost:3000/api/empleados")]),a._v(".")]),s("p",{staticClass:"mb-0"},[a._v("Para la definición de esta ruta, es necesario requerir el archivo "),s("b",[a._v("empleado.routes.js")]),a._v(" ejecutando la siguiente instrucción:")])])]),s("div",{staticClass:"col-lg-5"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"505px"},attrs:{src:e("6a8d")}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"bloque-codigo-personalizado",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("app.use('/api/empleados', require('./routes/empleado.routes'));")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("Al hacer el llamado en el servidor, se vería de la siguiente manera:")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"titulo-sexto color-acento-contenido mb-5"},[s("p",{staticClass:"mb-0"},[s("b",[a._v("Figura 2.")]),a._v(" Respuesta del servidor")])]),s("figure",{staticClass:"pt-3"},[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"610px"},attrs:{src:e("68be"),alt:"Interfaz de la API REST en un navegador web mostrando un mensaje de status para empleados."}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7"},[s("p",{staticClass:"mb-4"},[a._v("Ya visto un ejemplo del funcionamiento de las rutas, es necesario comprender su comportamiento. Cada solicitud debe ir asociada a una ruta, y esta a su vez a un intercambio de información o de datos, es decir, de interacción con la base de datos. En ese sentido, es más que necesaria la construcción del modelo empleado.js con datos específicos para los empleados dentro de la carpeta "),s("em",[a._v("models")]),a._v(".")]),s("p",{staticClass:"mb-0"},[a._v("Para construir el modelo empleado.js, primero se debe crear un esquema que defina la estructura de los datos que se almacenarán en la base de datos. Aquí un ejemplo de cómo podría verse el archivo empleado.js:")])]),s("div",{staticClass:"col-lg-5 order-first order-lg-last"},[s("figure",{staticClass:"mb-4 mb-lg-0"},[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"502px"},attrs:{src:e("117e")}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5 pt-4",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("const mongoose = require('mongoose');")]),s("br"),s("span",[a._v("const {Schema} = mongoose;")]),s("br"),s("br"),s("span",[a._v("const EmpleadoSchema = new Schema({")]),s("br"),s("span",[a._v("   name: {type: String, require: true},")]),s("br"),s("span",[a._v("   position: {type: String, require: true},")]),s("br"),s("span",[a._v("   office: {type: String, require: true},")]),s("br"),s("span",[a._v("   salary: {type: Number, require: true},")]),s("br"),s("span",[a._v("});")]),s("br"),s("br"),s("span",[a._v("module.exports = mongoose.model('Empleado', EmpleadoSchema);")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-segundo color-acento-contenido",attrs:{id:"t_1_6","data-aos":"flip-up"}},[s("h2",[a._v("1.6 Desarrollo de controladores para la API REST")])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row align-items-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7"},[s("p",{staticClass:"mb-4"},[a._v("Para mantener una estructura organizada y facilitar el crecimiento de la aplicación, se recomienda el uso de controladores. Los controladores son responsables de definir los métodos y acciones necesarios para las rutas de la aplicación. En este caso, se creará el archivo empleado.controller.js dentro de la carpeta controllers.")]),s("div",{staticClass:"fondo-color-sistema-m p-4 px-lg-5 borde-15"},[s("p",{staticClass:"mb-0"},[a._v("A continuación, se presenta un ejemplo de cómo podría estructurarse el controlador para manejar las operaciones básicas de la API REST:")])])]),s("div",{staticClass:"col-lg-5"},[s("figure",{staticClass:"mb-4 mb-lg-0"},[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"502px"},attrs:{src:e("c521")}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5 pt-3",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("/**")]),s("br"),s("span",[a._v("* Se coloca el controlador como un objeto y luego se exporta como")]),s("br"),s("span",[a._v("* se requiere primero el modelo empleado")]),s("br"),s("span",[a._v("*/")]),s("br"),s("br"),s("span",[a._v("const Empleado = require('../models/empleado');")]),s("br"),s("span",[a._v("const empleadoCtrl = {};")]),s("br"),s("br"),s("span",[a._v("/**")]),s("br"),s("span",[a._v("* DEFINO LOS MÉTODOS")]),s("br"),s("span",[a._v("*/")]),s("br"),s("br"),s("span",[a._v("// Obtener todos los empleados")]),s("br"),s("span",[a._v("empleadoCtrl.getEmpleados = async (req, res) => {")]),s("br"),s("span",[a._v("    const empleados = await Empleado.find();")]),s("br"),s("span",[a._v("    res.json(empleados);")]),s("br"),s("span",[a._v("}")]),s("br"),s("br"),s("span",[a._v("// Crear empleados")]),s("br"),s("span",[a._v("empleadoCtrl.createEmpleados = async (req, res) => {")]),s("br"),s("span",[a._v("    const empleado = new Empleado(req.body);")]),s("br"),s("span",[a._v("    await empleado.save();")]),s("br"),s("span",[a._v("    res.json({")]),s("br"),s("span",[a._v("      'status': 'Empleado guardado'")]),s("br"),s("span",[a._v("    });")]),s("br"),s("span",[a._v("}")]),s("br"),s("br"),s("span",[a._v("// Conseguir un único empleado")]),s("br"),s("span",[a._v("empleadoCtrl.getUnicoEmpleado = async (req, res) => {")]),s("br"),s("span",[a._v("    const empleadoUnico = await Empleado.findById(req.params.id);")]),s("br"),s("span",[a._v("    res.json(empleadoUnico);")]),s("br"),s("span",[a._v("}")]),s("br"),s("br"),s("span",[a._v("// Actualizar empleado")]),s("br"),s("span",[a._v("empleadoCtrl.editarEmpleado = async (req, res) => {")]),s("br"),s("span",[a._v("    const { id } = req.params;")]),s("br"),s("span",[a._v("    const empleadoEdit = {")]),s("br"),s("span",[a._v("      name: req.body.name,")]),s("br"),s("span",[a._v("      position: req.body.position,")]),s("br"),s("span",[a._v("      office: req.body.office,")]),s("br"),s("span",[a._v("      salary: req.body.salary")]),s("br"),s("span",[a._v("    };")]),s("br"),s("span",[a._v("    await Empleado.findByIdAndUpdate(id, {$set: empleadoEdit}, {new: true});")]),s("br"),s("span",[a._v("    res.json({status: 'Empleado Actualizado'});")]),s("br"),s("span",[a._v("}")]),s("br"),s("br"),s("span",[a._v("// Eliminar empleado")]),s("br"),s("span",[a._v("empleadoCtrl.eliminarEmpleado = async (req, res) => {")]),s("br"),s("span",[a._v("    await Empleado.findByIdAndDelete(req.params.id);")]),s("br"),s("span",[a._v("    res.json({status: 'Empleado Eliminado'});")]),s("br"),s("span",[a._v("}")]),s("br"),s("br"),s("span",[a._v("// exporto el módulo")]),s("br"),s("span",[a._v("module.exports = empleadoCtrl;")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-4 py-4",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("El desarrollo de controladores para la API REST se realiza:")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5 py-4",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("A continuación, se definen las rutas, por lo que se configura y desarrolla la lógica de esta sección en el archivo empleados.routes.js dentro de la carpeta routes:")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"bloque-codigo-personalizado"},[s("div",{staticClass:"cabecera-bloque-codigo p-4 py-3"},[s("div",{staticClass:"bloque-codigo-circulos"},[s("div",{staticClass:"bloque-codigo-circulo c1"}),s("div",{staticClass:"bloque-codigo-circulo c2"}),s("div",{staticClass:"bloque-codigo-circulo c3"})])]),s("div",{staticClass:"cuerpo-bloque-codigo p-4"},[s("code",{staticClass:"text-wrap"},[s("span",[a._v("plaintext")]),s("br"),s("span",[a._v("/**")]),s("br"),s("span",[a._v("*")]),s("br"),s("span",[a._v("* creamos un módulo por eso utilizamos express")]),s("br"),s("span",[a._v("*/")]),s("br"),s("br"),s("span",[a._v("const express = require('express');")]),s("br"),s("span",[a._v("const router = express.Router();")]),s("br"),s("span",[a._v("const empleadoCtrl = require('../controllers/empleado.controller');")]),s("br"),s("br"),s("span",[a._v("router.get('/', empleadoCtrl.getEmpleados); // Rutas más limpias (obtener empleados)")]),s("br"),s("span",[a._v("router.post('/', empleadoCtrl.createEmpleados); // guardar")]),s("br"),s("span",[a._v("router.get('/:id', empleadoCtrl.getUnicoEmpleado); // obtiene un único empleado")]),s("br"),s("span",[a._v("router.put('/:id', empleadoCtrl.editarEmpleado); // Actualizar datos (uno a la vez)")]),s("br"),s("span",[a._v("router.delete('/:id', empleadoCtrl.eliminarEmpleado);")]),s("br"),s("br"),s("span",[a._v("module.exports = router;")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row align-items-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7 mb-4 mb-lg-0"},[s("p",{staticClass:"mb-4"},[a._v("Con respecto al código anterior, se observa que se requiere el uso del controlador, por lo que se almacena en una constante llamada empleadoCtrl, y de esta forma se pueden utilizar todos los métodos de este, es decir, la gestión o "),s("b",[a._v("CRUD")]),a._v(" sobre el empleado.")]),s("div",{staticClass:"fondo-color-sistema-m p-4"},[s("p",{staticClass:"mb-0"},[a._v("En ese sentido, se observa que el objeto "),s("em",[a._v("router")]),a._v(" llama a cada uno de los métodos por defecto de petición HTTP como "),s("b",[a._v("GET, POST, PUT")]),a._v(", entre otros, asociados a los métodos realizados con el controlador. De manera que se tienen rutas mucho más limpias y apoyadas con la buena práctica del uso del controlador.")])])]),s("div",{staticClass:"col-lg-5"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"502px"},attrs:{src:e("cd97")}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"titulo-segundo color-acento-contenido",attrs:{id:"t_1_7","data-aos":"flip-up"}},[s("h2",[a._v("1.7 Realización de pruebas de la API REST con Postman")])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-8"},[s("p",{staticClass:"mb-4"},[a._v("Una vez finalizada la construcción del modelo, controlador y rutas, se procede a realizar las pruebas respectivas para evaluar el funcionamiento de la API REST. Para ello, se utilizará la herramienta Postman.")]),s("p",{staticClass:"mb-0"},[a._v("Se comienza insertando datos utilizando el método POST, el cual llamará a la ruta para crear empleados.")])]),s("div",{staticClass:"col-lg-4 order-first order-lg-last"},[s("figure",{staticClass:"mb-4 mb-lg-0"},[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"400px"},attrs:{src:e("5b0d")}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5 pb-3",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"titulo-sexto color-acento-contenido"},[s("p",{staticClass:"mb-0"},[s("b",[a._v("Figura 3.")]),a._v(" Pruebas con Postman")])]),s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"820px"},attrs:{src:e("d84f"),alt:"Interfaz de Postman configurada para hacer una petición POST a la API REST, incluyendo el payload con los datos del empleado y la respuesta en formato JSON indicando que el empleado ha sido guardado."}})])])])},function(){var a=this,s=a._self._c;return s("p",{staticClass:"mb-5",attrs:{"data-aos":"fade-up"}},[a._v("En la figura anterior se pueden apreciar los datos que se envían al servidor, dado que "),s("b",[a._v("Postman")]),a._v(" permite realizar esa emulación del cliente. Los datos que se envían están acordes al esquema definido en el modelo de "),s("b",[a._v("empleado.js")]),a._v(", como lo son "),s("em",[a._v("name, position, office y salary")]),a._v(". La respuesta en consola, que se programa como "),s("b",[a._v("status")]),a._v(", es que el Empleado ha sido guardado.")])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"fondo-personalizado-3 p-4 borde-11"},[s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"col-md-auto"},[s("div",{staticClass:"d-flex mb-4 mb-md-0 justify-content-center"},[s("div",{staticClass:"burbuja-1 fondo-color-acento-contenido p-2"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"74px"},attrs:{src:e("0057")}})])])])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0 text-white"},[a._v("En este orden de ideas, es necesario revisar la base de datos y verificar que efectivamente se ha guardado la información y si realmente "),s("b",[a._v("MongoDB")]),a._v(" la ha creado.")])])])])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("En la siguiente figura se presenta la imagen que representa la interfaz gráfica de "),s("b",[a._v("MongoDB")]),a._v(" y el resultado de verificación de la creación de la base de datos.")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"titulo-sexto color-acento-contenido"},[s("p",{staticClass:"mb-0"},[s("b",[a._v("Figura 4.")]),a._v(" Panel MongoDB")])]),s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"400px"},attrs:{src:e("d046"),alt:"Interfaz de MongoDB Compass mostrando la base de datos local con la colección de empleados seleccionada."}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-auto d-none d-md-block"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"85px"},attrs:{src:e("3921")}})])]),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0"},[a._v("La siguiente figura muestra el resultado de la verificación de un registro de empleado almacenado en MongoDB.")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"titulo-sexto color-acento-contenido"},[s("p",{staticClass:"mb-0"},[s("b",[a._v("Figura 5.")]),a._v(" Registro de empleado almacenado en MongoDB")])]),s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"610px"},attrs:{src:e("e620"),alt:"Interfaz de MongoDB mostrando el documento del empleado guardado con sus respectivos campos y valores."}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row align-items-center mb-5",attrs:{"data-aos":"fade-up"}},[s("div",{staticClass:"col-lg-7 mb-4 mb-lg-0"},[s("p",{staticClass:"mb-3"},[a._v("Como es evidente, la API REST funciona correctamente. Se ha creado la base de datos empleado y se tiene almacenado el primer registro del empleado Santiago. De igual forma, se confirma que los demás métodos HTTP, como GET, PUT o DELETE, también funcionan. Por lo tanto, se realiza la invitación a probar la API con Postman.")]),s("div",{staticClass:"fondo-color-sistema-m p-4"},[s("p",{staticClass:"mb-0"},[a._v("Hasta este punto se ha realizado el desarrollo del "),s("em",[a._v("back-end")]),a._v(", por lo que se tiene la base de datos lista para proceder con la construcción del "),s("em",[a._v("front-end")]),a._v(", que será el que interactuará con el servidor. A continuación, se presenta una figura que ilustra la estructura general del proyecto.")])])]),s("div",{staticClass:"col-lg-5"},[s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"502px"},attrs:{src:e("1185")}})])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"row justify-content-center mb-5",attrs:{"data-aos":"fade-down"}},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"titulo-sexto color-acento-contenido mb-5"},[s("p",{staticClass:"mb-0"},[s("b",[a._v("Figura 6.")]),a._v(" Resumen estructura del proyecto web")])]),s("figure",[s("img",{staticClass:"mx-auto",staticStyle:{"max-width":"820px"},attrs:{src:e("2d57"),alt:"Diagrama del stack MEAN (MongoDB, Express, Angular, Node.js) con iconos que representan las tecnologías y la comunicación entre el front-end y el back-end."}})])])])}],i={name:"Tema1",components:{},data:()=>({}),mounted(){this.$nextTick(()=>{this.$aosRefresh()})},updated(){this.$aosRefresh()}},r=i,c=e("2877"),l=Object(c["a"])(r,t,o,!1,null,null,null);s["default"]=l.exports},"04c2":function(a,s,e){a.exports=e.p+"img/6.c513032c.svg"},"0e0d":function(a,s,e){a.exports=e.p+"img/67.7bb35b52.svg"},"107b":function(a,s,e){a.exports=e.p+"img/62.39e5191f.svg"},"10b3":function(a,s,e){a.exports=e.p+"img/15.56767556.png"},"117e":function(a,s,e){a.exports=e.p+"img/18.5c543c0a.png"},1185:function(a,s,e){a.exports=e.p+"img/26.d631f636.png"},"1c8a":function(a,s,e){a.exports=e.p+"img/63.59934588.svg"},"27c8":function(a,s,e){a.exports=e.p+"img/11.f8ee73e9.png"},"2c90":function(a,s,e){a.exports=e.p+"img/8.9f333927.svg"},"2d57":function(a,s,e){a.exports=e.p+"img/27.c5dd2069.svg"},"312a":function(a,s,e){a.exports=e.p+"img/59.210a1c12.png"},3921:function(a,s,e){a.exports=e.p+"img/7.878895e8.svg"},"3fcd":function(a,s,e){a.exports=e.p+"img/5.b5f8166c.svg"},"5ab0":function(a,s,e){a.exports=e.p+"img/13.49aa55ee.svg"},"5b0d":function(a,s,e){a.exports=e.p+"img/21.f920e468.svg"},"60c3":function(a,s,e){a.exports=e.p+"img/61.a060ee2b.png"},"68be":function(a,s,e){a.exports=e.p+"img/17.fd8622d9.svg"},"6a8d":function(a,s,e){a.exports=e.p+"img/16.fa55f46c.svg"},"6f81":function(a,s,e){a.exports=e.p+"img/60.2f8f9fac.png"},"7f43":function(a,s,e){a.exports=e.p+"img/12.7f90f5ae.svg"},c521:function(a,s,e){a.exports=e.p+"img/19.cf15fbbd.png"},cd97:function(a,s,e){a.exports=e.p+"img/20.5690d986.png"},d046:function(a,s,e){a.exports=e.p+"img/24.7dc1a687.svg"},d84f:function(a,s,e){a.exports=e.p+"img/22.cb2c0012.svg"},dac1:function(a,s,e){a.exports=e.p+"img/10.42571438.png"},e06f:function(a,s,e){a.exports=e.p+"img/66.2c204ff6.svg"},e620:function(a,s,e){a.exports=e.p+"img/25.a9485b46.svg"},eef0:function(a,s,e){a.exports=e.p+"img/64.bc335c29.svg"},f976:function(a,s,e){a.exports=e.p+"img/65.9f08800f.svg"}}]);
//# sourceMappingURL=tema1.cb18c2a1.js.map